### Задача 1  

Архитектор ПО решил проконсультироваться у вас, какой тип БД лучше выбрать для хранения определенных данных.

Он вам предоставил следующие типы сущностей, которые нужно будет хранить в БД:

- Электронные чеки в json виде
```
Более быстро с JSON работают документоориентированные БД
```

- Склады и автомобильные дороги для логистической компании  
```
склады, автомобильные дороги должны быть описаны, к чему-то привязаны, к какоу-то месту. В этом случае, я думаю, лучше использовать графовую БД.  
```

- Генеалогические деревья  
```
Генеалогические деревья строятся по типу каталогов, только у потомка есть два родителя, значит здесь лучше подходит сетевая(паутинная) БД
```

- Кэш идентификаторов клиентов с ограниченным временем жизни для движка аутенфикации
```
Подойдут ключ-значение, рабртают в оперативной паяти, быстро
```
- Отношения клиент-покупка для интернет-магазина
```
Здесь я бы выбрал реляционную модель базы данных, чтобы хранить клиента, чек, тоавр и т.д.
```

- Выберите подходящие типы СУБД для каждой сущности и объясните свой выбор.

### Задача 2

A - доступность в любой момнент времени, без простоев  
C - данные при записи уже доступны для чтения на всех узлах.  
P - при сетевом сбое продолжает функционировать  


Вы создали распределенное высоконагруженное приложение и хотите классифицировать его согласно CAP-теореме. Какой классификации по CAP-теореме соответствует ваша система, если (каждый пункт - это отдельная реализация вашей системы и для каждого пункта надо привести классификацию):

1. Данные записываются на все узлы с задержкой до часа (асинхронная запись)
```
AP - так так при ассинхронной записи, данные в однин момент времени на узлах не будут согласованны. Система доступна, но данные в ней в один момент времени не консистенты, так как на одном узле данные есть, а на другом в этот момент не доступны, поэтому, исключаем C, получается система AP. Система продолжает отвечать на запросы, но не гарантирует согласованность данных.
(так как же как и с постом в соц сети https://dev.to/mhihasan/cap-theorem-with-examples-hg4). 
```  
2. При сетевых сбоях, система может разделиться на 2 раздельных кластера  
```
AP - система доступна, но два кластера не консистентны. Система продолжает функционировать, она доступна в виде 2 независимых кластеров, но данные в них не консистентны, так как кластеры независимы друг от друга.
```
3. Система может не прислать корректный ответ или сбросить соединение  
```
PA - система все-таки отвечает, хоть и некорректно(PA), или сбрасывает соединение, методом исключения C, следовательно она PA
Система может быть и PC, так как сбрасывает соединение, а значит ответа нет, не доступна.
```
А согласно PACELC-теореме, как бы вы классифицировали данные реализации?  
при сетевом разделении система может быть либо A либо C.

1.         PA/EL при сетевом разделении система доступна, иначе если нет разделения система будет пытаться сократить задержки и предоставлять актуальные данные быстрее
2.         PA/EC при сетевом разделении система доступна, иначе - согласована. Без разделения система нормально функционирует, консистенатна, при разделении разбивается на 2 независимых кластера, в которых данные уже не согласованы.  Может стремиться и к EL, в задании про это не уточнено.
3.         PA/EC при сетевом разделении система доступна, хотя и плохо, но отвечает, иначе, согласована. 

### Задача 3

Могут ли в одной системе сочетаться принципы BASE и ACID? Почему?  
Ответ:   
Base и ACID противоположны друг другу.   
Base это про быстроту предоставления данных, достоверны они или нет, это не важно.   
ACID это про надежность и достоверность данных. На начало и на конец транзакции данные достоверны.

### Задача 4
Вам дали задачу написать системное решение, основой которого бы послужили:

- фиксация некоторых значений с временем жизни
- реакция на истечение таймаута  
Вы слышали о key-value хранилище, которое имеет механизм Pub/Sub. Что это за система? Какие минусы выбора данной системы?

Ответ:  
Pub/sub система это шаблон системы сообщений, издатели(например, какое-то приложение) отправляют сообщения(например, уведомление) по темам, подписчики подписываются на темы и получают сообщения.
Для данной задачи можно выбрать redis, так как это СУБД ключ-значение, может присваивать данным time-to-live, и технология pub/sub  

минусы: ассинхронность, очереди, из-за этого возникает вопрос, как быстро получат сообщения подписчики

